\startEXERCISE
將 $n$ 個關鍵字存儲在大小爲 $m$ 的散列表中，
以鏈表解決衝突，
我們知道每個鏈表的長度，
其中最長鏈表的長度爲 $L$。
如何從所有關鍵字中均勻隨機地選取其一，
要求期望時間爲 $O(L\cdot (1+1/\alpha))$。
\stopEXERCISE

\startANSWER
首先，隨機選擇一個槽位，令其所含元素數目爲 $k$。

然後，在 $1,2,\ldots,L$ 中均勻隨機選擇一個，令其爲 $p$。

如果 $p\le k$ 則返回 $k$ 個元素中的第 $p$ 個，
否則重復執行以上步驟。

上述過程返回每個元素的概率是相同的。
每個槽位所含元素數目的期望值爲 $n/m$。
採樣嘗試成功的概率爲 $(n/m)/L$。
採樣成功所要嘗試的次數期望值爲 $L \times m / n$。
加上在具體槽位上獲取最終元素的開銷 $O(L)$，
總的期望時間爲 $O(L\times (1+m/n))$。
\stopANSWER
