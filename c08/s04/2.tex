\startEXERCISE
解釋爲什麼桶排序在最壞情況下運行時間是 $\Theta(n^2)$？
我們應該如何修改算法，保持平均運行時間是線性的，
而且最壞情況下時間代價爲 $O(n\lg{n})$？
\stopEXERCISE

\startANSWER
如果所有元素全部落在同一桶中，並且是逆序的，
則需要對這 $n$ 個逆序元素進行插入排序，
時間爲 $\Theta(n^2)$。

我們可以用堆排序或歸並排序來代替插入排序，
以減少最壞情況的運行時間。
之所以選擇插入排序，是因爲他可以在鏈表上很好的工作。
如果用其他算法，則可能需要將鏈表改爲數列，
這可能會降低算法的速度。
\stopANSWER
