\startEXERCISE
下列排序算法哪些是穩定的：插入排序、歸並排序、堆排序和快速排序？
給出一個能讓所有比較排序都穩定的方法。
此方法帶來的額外時間和空間開銷是多少？
\stopEXERCISE

\startANSWER
插入排序、歸並排序是穩定的； 堆排序和快速排序是不穩定的。

我們可以用額外空間存儲每個元素的索引，索引和元素本身一起移動，
比較時，先比較元素本身，如果元素本身相同，則比較索引，
這樣相當於保證所有元素互異，這樣無論用哪種排序算法都能保證穩定。
所需的額外空間爲 $\Theta(n)$。
所需的額外時間與算法本身時間復雜度具有同樣的數量級。
\stopANSWER
